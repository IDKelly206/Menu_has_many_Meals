<div class="container">
<%= form_with(url: recipe_search_recipes_path, method: "GET", data: {turbo_frame: "recipes" }) do |f| %>
  <%= f.label :query, "Search for:" %>
  <%= f.text_field :query, multiple: true %>
  <%= f.fields_for :filters do |ft| %>
    <%= ft.label "Filter by: " %>
    <%= ft.select :mealType, @meal_types %>
    <%= ft.select :dishType, @dish_type %>
    <%= ft.select :health, @health %>
  <% end %>
  <%= hidden_field_tag :title, yield(:title) %>
  <% if @meals.present? %>
    <%= hidden_field_tag 'meals',  @meals %>
  <% elsif @meal.present? %>
    <%= hidden_field_tag 'meal', @meal.id %>
    <%= hidden_field_tag 'menu', @menu.id %>
  <% end %>
  <%= f.submit "Search", name: nil %>
<% end %>
</div>
