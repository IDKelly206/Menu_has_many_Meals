<h1>New Meal page</h1>
<div class="container" data-controller="meal-form">

<%= form_with url: "/meals", method: :post do |f| %>
  <%= f.collection_check_boxes :menu_ids, @menus, :id, :date, include_hidden: false %>
  <div>
  <%= f.collection_check_boxes :user_ids, @users, :id, :name_first, include_hidden: false %>
  </div>
  <%= f.select :meal_type, collection: @meal_type %>
  <%= f.submit %>
<% end %>



</div>


<%# <form action="/meals" method='post' accept-charset="UTF-8">

  <label for="meal_type">Enter Meal type<label>
  <input type="text" id="meal_type" name="meal_type"> <br>

  <label for="user_ids">Users</label>
  <input type="test" id="user_ids" name="user_ids[]" > <br>

  <label for="menu_ids">Enter date</label>
  <input type="text" id="menu_ids" name="menu_ids[]"> <br>

  <input type="submit" value="Submit">

</form> %>

<%# menu_ids.each do |menu_id|
  menu = Menu.find(menu_id)
    user_ids.each do |user_id|
      Meal.create!(meal_type: meal_type, user_id: user_id, menu_id: menu_id)
      meal_id = Meal.last.id
      courses_info.each do |course|
        Course.create!(meal_id: meal_id, course_type: course[0], recipe_id: course[1])
      end
    end
end %>
