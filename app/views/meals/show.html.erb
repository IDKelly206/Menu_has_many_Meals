<div class="container">
  <div class="header">
    <h1>Meal show page</h1>
    <p>User: <%= User.find(@meal.user_id).name_first %></p>
    <p>Date: <%= @menu.day_of_week %></p>
    <p>Meal: <%= @meal.meal_type %></p>
  </div>
  <div>
    <h4>Courses: </h4>
  </div>
  <div>
  </div>


  <%# turbo_frame_tag "menu-meal-body"  %>
    <div class="card-menu-meal__body">
      <div class= "card-menu-meal-course">
        <div class="card-menu-meal-course__header">
          <h4><%= User.find(@meal.user_id).name_first %></h4>
          <%= link_to menus_path do %>
            <i class="fa-regular fa-circle-xmark"></i>
          <% end %>
        </div>
        <div class="card-menu-meal-course__body">
        <%# Go through each course (@courses) and match course_type & render card %>
          <% @course_types.each do |course_type| %>
            <div class="course-item">
              <% unless @courses.find_by(course_type: course_type).nil? %>
                <%= render @courses.find_by(course_type: course_type), meal: @meal %>
              <% else %>
                <div class="card-course">
                  <div class="card-course__recipe">
                    <p><%= course_type.capitalize %>: </p>
                  </div>
                  <div class="card-course__action">
                    <%= button_to  new_menu_meal_course_path(@menu, @meal), class: "btn btn--light", target: :_top do %>
                      <i class="fa-solid fa-circle-plus"></i>
                    <% end %>
                  </div>
                </div>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
<%# Turbo frame end %>

</div>
